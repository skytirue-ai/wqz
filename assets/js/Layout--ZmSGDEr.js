import{A as h,B as y,G as g,K as R,L as q,M as T,N as S,P as k,T as P,W as b,_ as ee,a as ne,b as M,f as te,g as K,i as oe,k as F,q as c,s as X,v as J,w as C,x as f,y as e}from"./vue-vendor-CWx2MFcM.js";import{i as ae,n as G,r as j,t as se}from"./useChainId-BBV2sKF-.js";import{Gt as H,n as ie,s as le}from"./index-Cm1isxve.js";import{t as re}from"./Logo-BOnaXiSd.js";async function ce(s,l){var i;let o;if(typeof l.connector=="function"?o=s._internal.connectors.setup(l.connector):o=l.connector,o.uid===s.state.current)throw new le;try{s.setState(a=>({...a,status:"connecting"})),o.emitter.emit("message",{type:"connecting"});const{connector:u,...v}=l,d=await o.connect(v);return o.emitter.off("connect",s._internal.events.connect),o.emitter.on("change",s._internal.events.change),o.emitter.on("disconnect",s._internal.events.disconnect),await((i=s.storage)==null?void 0:i.setItem("recentConnectorId",o.id)),s.setState(a=>({...a,connections:new Map(a.connections).set(o.uid,{accounts:v.withCapabilities?d.accounts.map(t=>typeof t=="object"?t.address:t):d.accounts,chainId:d.chainId,connector:o}),current:o.uid,status:"connected"})),{accounts:v.withCapabilities?d.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):d.accounts,chainId:d.chainId}}catch(u){throw s.setState(v=>({...v,status:v.current?"connected":"disconnected"})),u}}var Y=[];function ue(s){const l=s.connectors;return Y.length===l.length&&Y.every((o,i)=>o===l[i])?Y:(Y=l,l)}function de(s,l){const{onChange:o}=l;return s._internal.connectors.subscribe((i,u)=>{o(Object.values(i),u)})}function ge(s){return{mutationFn(l){return ce(s,l)},mutationKey:["connect"]}}function ve(s={}){const l=j(s),o=y(ue(l)),i=de(l,{onChange(u){o.value=u}});return q(()=>i()),o}function pe(s={}){const{mutation:l}=s,o=j(s),i=ge(o),{mutate:u,mutateAsync:v,...d}=ae({...l,...i}),a=o.subscribe(({status:t})=>t,(t,p)=>{p==="connected"&&t==="disconnected"&&d.reset()});return q(()=>a()),{...d,connect:u,connectAsync:v,connectors:ve({config:o}).value}}var D="data:image/png;base64,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",W="data:image/png;base64,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",me={class:"navbat__ca"},he={class:"navbar"},fe={class:"navbar__content"},Ae={href:"/",class:"navbar__logo-link"},be={class:"navbar__logo"},Ce={class:"navbar__links","aria-label":"Primary"},we={class:"navbar__ca"},ye={class:"connect_btn"},ke={key:1,class:"btn btn--secondary"},Me={class:"flag-display"},Ie=["src"],Be=["src"],ze={key:2,class:"flag-emoji"},Ye={class:"language-selector mobile-lang",role:"button","aria-label":"切换语言"},Se={class:"flag-display"},xe=["src"],Ee=["src"],_e={key:2,class:"flag-emoji"},Qe=P({__name:"Header",props:{isMiningPage:{type:Boolean},showMiningMenu:{type:Boolean},toggleMiningMenu:{type:Function}},emits:["clicklanguage","connect"],setup(s,{emit:l}){const{locale:o}=X(),i=l,{address:u,isConnected:v}=G(),d=async()=>{try{i("connect")}catch(r){console.log("Connect failed:",r)}},a=r=>r?"".concat(r.slice(0,6),"...").concat(r.slice(-6)):"",t=()=>{i("clicklanguage")},p=y(!1),w=()=>{p.value=!1};return(r,A)=>{const I=T("router-link");return h(),f("div",me,[e("header",he,[e("div",fe,[e("a",Ae,[e("div",be,[C(re),A[1]||(A[1]=e("span",{class:"navbar__title is_pc"},"AICredit Chain（AIC）",-1))])]),e("nav",Ce,[C(I,{to:"/",class:g(["toolbar-item",{active:r.$route.path==="/"}])},{default:k(()=>[e("div",{class:g(["icon",r.$route.path==="/"?"home-active":"home-icon"])},null,2),e("span",null,c(r.$t("tab_bar.home")),1)]),_:1},8,["class"]),e("div",{class:g(["toolbar-item",{active:s.isMiningPage||s.showMiningMenu}]),onClick:A[0]||(A[0]=(...z)=>s.toggleMiningMenu&&s.toggleMiningMenu(...z))},[e("div",{class:g(["icon",s.isMiningPage||s.showMiningMenu?"mining-icon-active":"mining-icon"])},null,2),e("span",null,c(r.$t("tab_bar.mining")),1)],2),C(I,{to:"/promote",class:g(["toolbar-item",{active:r.$route.path==="/promote"}])},{default:k(()=>[e("div",{class:g(["icon",r.$route.path==="/promote"?"promote-icon-active":"promote-icon"])},null,2),e("span",null,c(r.$t("tab_bar.promotion")),1)]),_:1},8,["class"]),C(I,{to:"/ranking",class:g(["toolbar-item",{active:r.$route.path==="/ranking"}])},{default:k(()=>[e("div",{class:g(["icon",r.$route.path==="/ranking"?"ranking-icon-active":"ranking-icon"])},null,2),e("span",null,c(r.$t("tab_bar.ranking")),1)]),_:1},8,["class"])])]),e("div",we,[e("div",ye,[b(v)?(h(),f("button",ke,c(a(b(u))),1)):(h(),f("button",{key:0,class:"btn btn--secondary",onClick:d},"Connect Wallet"))]),A[3]||(A[3]=e("div",{class:"line"},null,-1)),e("div",{class:"language-selector",role:"button","aria-label":"切换语言",onClick:t},[e("div",Me,[b(o)==="en"?(h(),f("img",{key:0,src:b(D),alt:"English",class:"flag-icon"},null,8,Ie)):b(o)==="zh"?(h(),f("img",{key:1,src:b(W),alt:"中文",class:"flag-icon"},null,8,Be)):(h(),f("span",ze,"🇹🇼"))]),A[2]||(A[2]=e("span",{class:"arrow-down"},"▼",-1))])])]),C(te,{name:"fade"},{default:k(()=>[p.value?(h(),f("div",{key:0,class:"mobile-menu",onClick:K(w,["self"])},[e("a",{href:"#home",onClick:w},c(r.$t("navigation.home")),1),e("a",{href:"#About",onClick:w},c(r.$t("navigation.about")),1),e("a",{href:"#UseCases",onClick:w},c(r.$t("navigation.useCases")),1),e("a",{href:"#Technology",onClick:w},c(r.$t("navigation.technology")),1),e("a",{href:"#Ecosystem",onClick:w},c(r.$t("navigation.ecosystem")),1),e("div",Ye,[e("div",Se,[b(o)==="en"?(h(),f("img",{key:0,src:b(D),alt:"English",class:"flag-icon"},null,8,xe)):b(o)==="zh"?(h(),f("img",{key:1,src:b(W),alt:"中文",class:"flag-icon"},null,8,Ee)):(h(),f("span",_e,"🇹🇼"))]),A[4]||(A[4]=e("span",{class:"arrow-down"},"▼",-1))])])):M("",!0)]),_:1})])}}}),Le=H(Qe,[["__scopeId","data-v-5f8e9c3d"]]),Ne={key:0,style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","z-index":"9999",display:"flex","align-items":"center","justify-content":"center"}},Ue={style:{background:"#1d1e2a","border-radius":"12px",padding:"24px",margin:"16px",width:"100%","max-width":"384px",position:"relative","box-shadow":"0 10px 25px rgba(0, 0, 0, 0.3)"}},Re={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"16px"}},Te={style:{"font-size":"18px","font-weight":"600",margin:"0",color:"#f5f5f5"}},De={style:{width:"20px",height:"20px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},We={style:{display:"flex","flex-direction":"column",gap:"8px"}},He={style:{"font-size":"24px","margin-right":"12px"}},Oe=["src"],Ve={style:{"text-align":"left",flex:"1"}},Fe={style:{"font-weight":"500"}},Je={style:{"font-size":"14px",color:"#d1d5db"}},qe={key:0,style:{width:"20px",height:"20px",color:"#3b82f6"},fill:"currentColor",viewBox:"0 0 20 20"},Pe={style:{"font-size":"24px","margin-right":"12px"}},Ke=["src"],Xe={style:{"text-align":"left",flex:"1"}},Ge={style:{"font-weight":"500"}},je={style:{"font-size":"14px",color:"#d1d5db"}},$e={key:0,style:{width:"20px",height:"20px",color:"#3b82f6"},fill:"currentColor",viewBox:"0 0 20 20"},Ze={style:{"text-align":"left",flex:"1"}},en={style:{"font-weight":"500"}},nn={style:{"font-size":"14px",color:"#d1d5db"}},tn={key:0,style:{width:"20px",height:"20px",color:"#3b82f6"},fill:"currentColor",viewBox:"0 0 20 20"},on={__name:"LanguageModal",props:{isOpen:Boolean},emits:["close","languageChange"],setup(s,{emit:l}){const o=l,{locale:i}=X(),u=y(i.value);S(i,a=>{u.value=a},{immediate:!0});const v=a=>u.value===a?"background: #374151; border-color: #60a5fa;":"",d=a=>{u.value=a,i.value=a,ie(a),o("languageChange",a),o("close")};return(a,t)=>s.isOpen?(h(),f("div",Ne,[e("div",{style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.6)"},onClick:t[0]||(t[0]=p=>a.$emit("close"))}),e("div",Ue,[e("div",Re,[e("h3",Te,c(a.$t("languages.selectLanguage")),1),e("button",{style:{padding:"4px",background:"none",border:"none","border-radius":"4px",cursor:"pointer",transition:"background-color 0.2s",color:"#2f3042"},onClick:t[1]||(t[1]=p=>a.$emit("close")),onMouseover:t[2]||(t[2]=p=>p.target.style.backgroundColor="#4A4A4A"),onMouseout:t[3]||(t[3]=p=>p.target.style.backgroundColor="transparent")},[(h(),f("svg",De,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])]))],32)]),e("div",We,[e("button",{style:R([v("zh"),{width:"100%",display:"flex","align-items":"center",padding:"12px",border:"1px solid #4a4a4a","border-radius":"8px",cursor:"pointer",transition:"all 0.2s",background:"#2f3042",color:"#f5f5f5"}]),onClick:t[4]||(t[4]=p=>d("zh"))},[e("span",He,[e("img",{src:b(W),alt:"English",class:"flag-icon"},null,8,Oe)]),e("div",Ve,[e("div",Fe,c(a.$t("languages.zh")),1),e("div",Je,c(a.$t("languages.zhDesc")),1)]),u.value==="zh"?(h(),f("svg",qe,[...t[8]||(t[8]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"},null,-1)])])):M("",!0)],4),e("button",{style:R([v("en"),{width:"100%",display:"flex","align-items":"center",padding:"12px",border:"1px solid #4a4a4a","border-radius":"8px",cursor:"pointer",transition:"all 0.2s",background:"#2f3042",color:"#f5f5f5"}]),onClick:t[5]||(t[5]=p=>d("en"))},[e("span",Pe,[e("img",{src:b(D),alt:"English",class:"flag-icon"},null,8,Ke)]),e("div",Xe,[e("div",Ge,c(a.$t("languages.en")),1),e("div",je,c(a.$t("languages.enDesc")),1)]),u.value==="en"?(h(),f("svg",$e,[...t[9]||(t[9]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"},null,-1)])])):M("",!0)],4),e("button",{style:R([v("zh-tw"),{width:"100%",display:"flex","align-items":"center",padding:"12px",border:"1px solid #4a4a4a","border-radius":"8px",cursor:"pointer",transition:"all 0.2s",background:"#2f3042",color:"#f5f5f5"}]),onClick:t[6]||(t[6]=p=>d("zh-tw"))},[t[11]||(t[11]=e("span",{style:{"font-size":"24px","margin-right":"12px"}},"🇹🇼",-1)),e("div",Ze,[e("div",en,c(a.$t("languages.zh-tw")),1),e("div",nn,c(a.$t("languages.zh-twDesc")),1)]),u.value==="zh-tw"?(h(),f("svg",tn,[...t[10]||(t[10]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"},null,-1)])])):M("",!0)],4)])])])):M("",!0)}},an=H(on,[["__scopeId","data-v-d7b0acfb"]]),sn={key:0,class:"toolbar mobile-only"},ln=P({__name:"Layout",setup(s){const l=ne(),o=oe(),i=y(!1),u=y(""),v=y(!1),d=y(!1),a=y(!1),t=J(()=>o.path.startsWith("/mining/")),p=J(()=>o.path==="/"),w=()=>{a.value=window.innerWidth<768};F(()=>{w(),window.addEventListener("resize",w)});const r=n=>{console.log("Language changed to:",n),I()},A=()=>v.value=!0,I=()=>v.value=!1,z=()=>i.value=!i.value,O=()=>i.value=!1,V=n=>{l.push("/mining/".concat(n)),O()},x={chainId:"0x431A",chainName:"AIC Chain",nativeCurrency:{name:"AIC",symbol:"AIC",decimals:18},rpcUrls:["https://rpc.aicchain.vip"],blockExplorerUrls:["https://scan.aicchain.vip"],iconUrls:["https://www.aicchain.vip/images/og-image.png"]},E=async()=>{if(!window.ethereum){console.warn("MetaMask 未安装");return}try{if(await window.ethereum.request({method:"eth_chainId"})===x.chainId)return;try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:x.chainId}]}),console.log("已切换到 AIC 网络")}catch(n){n.code===4902?(await window.ethereum.request({method:"wallet_addEthereumChain",params:[x]}),console.log("已添加 AIC 网络")):console.error("切换 AIC 网络失败:",n)}}catch(n){console.error("检查或添加网络失败:",n)}};se();const{connectors:B,connect:_}=pe(),{isConnected:Q}=G(),$=async()=>{if(!(Q.value||!B.length))try{const n=B[0];await _({connector:n}),localStorage.setItem("lastConnectedConnector",n.id),await E()}catch(n){console.error("Connect wallet failed:",n)}},L=async()=>{if(!(Q.value||d.value||!B.length)){d.value=!0;try{const n=localStorage.getItem("lastConnectedConnector");if(console.log("Last connected connector:",n),n){const m=B.find(N=>N.id===n);m?(console.log("Attempting auto connect wallet:",n),await _({connector:m}),console.log("Auto connect successful"),await E()):(console.warn("Previous wallet connection info not found"),localStorage.removeItem("lastConnectedConnector"))}else{const m=B[0];await _({connector:m}),localStorage.setItem("lastConnectedConnector",m.id),await E()}}catch(n){console.warn("Auto connect failed:",n),localStorage.removeItem("lastConnectedConnector")}finally{d.value=!1}}};return F(async()=>{setTimeout(()=>L(),3e3);try{const n=await fetch("/version.json");n.ok&&(u.value=(await n.json()).version||"dev")}catch(n){console.warn("Failed to get version info:",n),u.value="dev"}}),S(()=>o.path,()=>setTimeout(()=>L(),3e3)),S(Q,n=>{n?console.log("Wallet connected"):(console.log("Wallet disconnected"),setTimeout(()=>L(),1e3))}),S(()=>o.query.invite,n=>{n&&typeof n=="string"?sessionStorage.setItem("invite",n):sessionStorage.removeItem("invite")},{immediate:!0}),(n,m)=>{const N=T("router-view"),U=T("router-link");return h(),f(ee,null,[e("div",{class:g(["layout min-w-screen min-h-screen",{"header-home":p.value,"header-other":!p.value}])},[e("header",{class:g(["header",{"header-home":p.value,"header-other":!p.value}])},[C(Le,{"show-mining-menu":i.value,"is-mining-page":t.value,"toggle-mining-menu":z,onClicklanguage:A,onConnect:$},null,8,["show-mining-menu","is-mining-page"])],2),e("main",{class:g(["main",{"has-toolbar":a.value}])},[C(N)],2),a.value?(h(),f("div",sn,[C(U,{to:"/",class:g(["toolbar-item",{active:n.$route.path==="/"}])},{default:k(()=>[e("div",{class:g(["icon",n.$route.path==="/"?"home-icon-active":"home-icon"])},null,2),e("span",null,c(n.$t("tab_bar.home")),1)]),_:1},8,["class"]),e("div",{class:g(["toolbar-item",{active:t.value||i.value}]),onClick:z},[e("div",{class:g(["icon",t.value||i.value?"mining-icon-active":"mining-icon"])},null,2),e("span",null,c(n.$t("tab_bar.mining")),1)],2),C(U,{to:"/promote",class:g(["toolbar-item",{active:n.$route.path==="/promote"}])},{default:k(()=>[e("div",{class:g(["icon",n.$route.path==="/promote"?"promote-icon-active":"promote-icon"])},null,2),e("span",null,c(n.$t("tab_bar.promotion")),1)]),_:1},8,["class"]),C(U,{to:"/ranking",class:g(["toolbar-item",{active:n.$route.path==="/ranking"}])},{default:k(()=>[e("div",{class:g(["icon",n.$route.path==="/ranking"||n.$route.path==="/ranking/personal"||n.$route.path==="/ranking/team"?"ranking-icon-active":"ranking-icon"])},null,2),e("span",null,c(n.$t("tab_bar.ranking")),1)]),_:1},8,["class"])])):M("",!0),i.value?(h(),f("div",{key:1,class:"mining-menu-overlay",onClick:O},[e("div",{class:"mining-menu",onClick:m[2]||(m[2]=K(()=>{},["stop"]))},[e("div",{class:"mining-menu-item",onClick:m[0]||(m[0]=Z=>V("th"))},[m[3]||(m[3]=e("div",{class:"menu-icon ht-icon"},null,-1)),e("span",null,c(n.$t("mining_tab.th_mining")),1)]),m[5]||(m[5]=e("div",{class:"divider"},null,-1)),e("div",{class:"mining-menu-item",onClick:m[1]||(m[1]=Z=>V("aic"))},[m[4]||(m[4]=e("div",{class:"menu-icon aic-icon"},null,-1)),e("span",null,c(n.$t("mining_tab.aic_pool")),1)])])])):M("",!0)],2),C(an,{"is-open":v.value,onClose:I,onLanguageChange:r},null,8,["is-open"])],64)}}}),gn=H(ln,[["__scopeId","data-v-cf8aee67"]]);export{gn as default};
