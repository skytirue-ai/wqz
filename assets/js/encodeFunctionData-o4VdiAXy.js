import{Ct as P,St as a,U as D,V as y,_t as d,at as O,bt as C,ct as L,ht as H,it as R,st as h,xt as u,yt as S}from"./index-Cm1isxve.js";function g(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new _(t.type);return"".concat(t.name,"(").concat(A(t.inputs,{includeName:e}),")")}function A(t,{includeName:e=!1}={}){return t?t.map(n=>W(n,{includeName:e})).join(e?", ":","):""}function W(t,{includeName:e}){return t.type.startsWith("tuple")?"(".concat(A(t.components,{includeName:e}),")").concat(t.type.slice(5)):t.type+(e&&t.name?" ".concat(t.name):"")}var xt=class extends u{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:t,name:"AbiConstructorNotFoundError"})}},$t=class extends u{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}},Et=class extends u{constructor({data:t,params:e,size:n}){super(["Data size of ".concat(n," bytes is too small for given parameters.")].join("\n"),{metaMessages:["Params: (".concat(A(e,{includeName:!0}),")"),"Data:   ".concat(t," (").concat(n," bytes)")],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=e,this.size=n}},vt=class extends u{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},U=class extends u{constructor({expectedLength:t,givenLength:e,type:n}){super(["ABI encoding array length mismatch for type ".concat(n,"."),"Expected length: ".concat(t),"Given length: ".concat(e)].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}},V=class extends u{constructor({expectedSize:t,value:e}){super('Size of bytes "'.concat(e,'" (bytes').concat(a(e),") does not match expected size (bytes").concat(t,")."),{name:"AbiEncodingBytesSizeMismatchError"})}},q=class extends u{constructor({expectedLength:t,givenLength:e}){super(["ABI encoding params/values length mismatch.","Expected length (params): ".concat(t),"Given length (values): ".concat(e)].join("\n"),{name:"AbiEncodingLengthMismatchError"})}},wt=class extends u{constructor(t,{docsPath:e}){super(['Arguments (`args`) were provided to "'.concat(t,'", but "').concat(t,'" on the ABI does not contain any parameters (`inputs`).'),"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:e,name:"AbiErrorInputsNotFoundError"})}},Bt=class extends u{constructor(t,{docsPath:e}={}){super(["Error ".concat(t?'"'.concat(t,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:e,name:"AbiErrorNotFoundError"})}},Pt=class extends u{constructor(t,{docsPath:e}){super(['Encoded error signature "'.concat(t,'" not found on ABI.'),"Make sure you are using the correct ABI and that the error exists on it.","You can look up the decoded signature here: https://openchain.xyz/signatures?query=".concat(t,".")].join("\n"),{docsPath:e,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}},v=class extends u{constructor(t,{docsPath:e}={}){super(["Function ".concat(t?'"'.concat(t,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:e,name:"AbiFunctionNotFoundError"})}},St=class extends u{constructor(t,{docsPath:e}){super(['Function "'.concat(t,'" does not contain any `outputs` on ABI.'),"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:e,name:"AbiFunctionOutputsNotFoundError"})}},zt=class extends u{constructor(t,{docsPath:e}){super(['Encoded function signature "'.concat(t,'" not found on ABI.'),"Make sure you are using the correct ABI and that the function exists on it.","You can look up the signature here: https://openchain.xyz/signatures?query=".concat(t,".")].join("\n"),{docsPath:e,name:"AbiFunctionSignatureNotFoundError"})}},G=class extends u{constructor(t,e){super("Found ambiguous types in overloaded ABI items.",{metaMessages:["`".concat(t.type,"` in `").concat(g(t.abiItem),"`, and"),"`".concat(e.type,"` in `").concat(g(e.abiItem),"`"),"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},Ft=class extends u{constructor({expectedSize:t,givenSize:e}){super("Expected bytes".concat(t,", got bytes").concat(e,"."),{name:"BytesSizeMismatchError"})}},Y=class extends u{constructor(t,{docsPath:e}){super(['Type "'.concat(t,'" is not a valid encoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:e,name:"InvalidAbiEncodingType"})}},It=class extends u{constructor(t,{docsPath:e}){super(['Type "'.concat(t,'" is not a valid decoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:e,name:"InvalidAbiDecodingType"})}},Z=class extends u{constructor(t){super(['Value "'.concat(t,'" is not a valid array.')].join("\n"),{name:"InvalidArrayError"})}},_=class extends u{constructor(t){super(['"'.concat(t,'" is not a valid definition type.'),'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}};function z(t,e,n,{strict:r}={}){return P(t,{strict:!1})?K(t,e,n,{strict:r}):J(t,e,n,{strict:r})}function F(t,e){if(typeof e=="number"&&e>0&&e>a(t)-1)throw new S({offset:e,position:"start",size:a(t)})}function I(t,e,n){if(typeof e=="number"&&typeof n=="number"&&a(t)!==n-e)throw new S({offset:n,position:"end",size:a(t)})}function J(t,e,n,{strict:r}={}){F(t,e);const o=t.slice(e,n);return r&&I(o,e,n),o}function K(t,e,n,{strict:r}={}){F(t,e);const o="0x".concat(t.replace("0x","").slice((e!=null?e:0)*2,(n!=null?n:t.length)*2));return r&&I(o,e,n),o}function f(t){return typeof t[0]=="string"?M(t):Q(t)}function Q(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}function M(t){return"0x".concat(t.reduce((e,n)=>e+n.replace("0x",""),""))}const Mt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,X=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function tt(t,e){if(t.length!==e.length)throw new q({expectedLength:t.length,givenLength:e.length});const n=et({params:t,values:e}),r=$(n);return r.length===0?"0x":r}function et({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(x({param:t[r],value:e[r]}));return n}function x({param:t,value:e}){var r;const n=at(t.type);if(n){const[o,i]=n;return rt(e,{length:o,param:{...t,type:i}})}if(t.type==="tuple")return ut(e,{param:t});if(t.type==="address")return nt(e);if(t.type==="bool")return st(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const o=t.type.startsWith("int"),[,,i="256"]=(r=X.exec(t.type))!=null?r:[];return it(e,{signed:o,size:Number(i)})}if(t.type.startsWith("bytes"))return ot(e,{param:t});if(t.type==="string")return ct(e);throw new Y(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function $(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:c,encoded:s}=t[i];c?e+=32:e+=a(s)}const n=[],r=[];let o=0;for(let i=0;i<t.length;i++){const{dynamic:c,encoded:s}=t[i];c?(n.push(h(e+o,{size:32})),r.push(s),o+=a(s)):n.push(s)}return f([...n,...r])}function nt(t){if(!y(t))throw new C({address:t});return{dynamic:!1,encoded:d(t.toLowerCase())}}function rt(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Z(t);if(!r&&t.length!==e)throw new U({expectedLength:e,givenLength:t.length,type:"".concat(n.type,"[").concat(e,"]")});let o=!1;const i=[];for(let c=0;c<t.length;c++){const s=x({param:n,value:t[c]});s.dynamic&&(o=!0),i.push(s)}if(r||o){const c=$(i);if(r){const s=h(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?f([s,c]):s}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:f(i.map(({encoded:c})=>c))}}function ot(t,{param:e}){const[,n]=e.type.split("bytes"),r=a(t);if(!n){let o=t;return r%32!==0&&(o=d(o,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:f([d(h(r,{size:32})),o])}}if(r!==Number.parseInt(n,10))throw new V({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:d(t,{dir:"right"})}}function st(t){if(typeof t!="boolean")throw new u('Invalid boolean value: "'.concat(t,'" (type: ').concat(typeof t,"). Expected: `true` or `false`."));return{dynamic:!1,encoded:d(O(t))}}function it(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=BigInt(2)**(BigInt(n)-(e?BigInt(1):BigInt(0)))-BigInt(1),o=e?-r-BigInt(1):BigInt(0);if(t>r||t<o)throw new H({max:r.toString(),min:o.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:h(t,{size:32,signed:e})}}function ct(t){const e=L(t),n=Math.ceil(a(e)/32),r=[];for(let o=0;o<n;o++)r.push(d(z(e,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:f([d(h(a(e),{size:32})),...r])}}function ut(t,{param:e}){let n=!1;const r=[];for(let o=0;o<e.components.length;o++){const i=e.components[o],c=Array.isArray(t)?o:i.name,s=x({param:i,value:t[c]});r.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?$(r):f(r.map(({encoded:o})=>o))}}function at(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var dt=t=>D(R(t));function ft(t){return dt(t)}function pt(t,e){var n;return(n=t.exec(e))==null?void 0:n.groups}const Tt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jt=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Nt=/^\(.+?\).*?$/;var w=new RegExp("^tuple(?<array>(\\[(\\d*)\\])*)$");function m(t){var n;let e=t.type;if(w.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const c=t.components[i];e+=m(c),i<r-1&&(e+=", ")}const o=pt(w,t.type);return e+=")".concat((n=o==null?void 0:o.array)!=null?n:""),m({...t,type:e})}return"indexed"in t&&t.indexed&&(e="".concat(e," indexed")),t.name?"".concat(e," ").concat(t.name):e}function l(t){let e="";const n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=m(o),r!==n-1&&(e+=", ")}return e}function lt(t){var e;return t.type==="function"?"function ".concat(t.name,"(").concat(l(t.inputs),")").concat(t.stateMutability&&t.stateMutability!=="nonpayable"?" ".concat(t.stateMutability):"").concat((e=t.outputs)!=null&&e.length?" returns (".concat(l(t.outputs),")"):""):t.type==="event"?"event ".concat(t.name,"(").concat(l(t.inputs),")"):t.type==="error"?"error ".concat(t.name,"(").concat(l(t.inputs),")"):t.type==="constructor"?"constructor(".concat(l(t.inputs),")").concat(t.stateMutability==="payable"?" payable":""):t.type==="fallback"?"fallback() external".concat(t.stateMutability==="payable"?" payable":""):"receive() external payable"}function ht(t){let e=!0,n="",r=0,o="",i=!1;for(let c=0;c<t.length;c++){const s=t[c];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function",""].includes(o))o="";else if(o+=s,s===")"){i=!0;break}continue}if(s===" "){t[c-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}o+=s,n+=s}}if(!i)throw new u("Unable to normalize signature.");return o}const yt=t=>{const e=typeof t=="string"?t:lt(t);return ht(e)};function T(t){return ft(yt(t))}const gt=T,j=t=>z(T(t),0,4);function mt(t){const{abi:e,args:n=[],name:r}=t,o=P(r,{strict:!1}),i=e.filter(s=>o?s.type==="function"?j(s)===r:s.type==="event"?gt(s)===r:!1:"name"in s&&s.name===r);if(i.length===0)return;if(i.length===1)return i[0];let c;for(const s of i)if("inputs"in s){if(!n||n.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(s.inputs&&s.inputs.length!==0&&s.inputs.length===n.length&&n.every((p,k)=>{const E="inputs"in s&&s.inputs[k];return E?b(p,E):!1})){if(c&&"inputs"in c&&c.inputs){const p=N(s.inputs,c.inputs,n);if(p)throw new G({abiItem:s,type:p[0]},{abiItem:c,type:p[1]})}c=s}}return c||i[0]}function b(t,e){const n=typeof t,r=e.type;switch(r){case"address":return y(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>b(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(o=>b(o,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function N(t,e,n){for(const r in t){const o=t[r],i=e[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return N(o.components,i.components,n[r]);const c=[o.type,i.type];if(c.includes("address")&&c.includes("bytes20")?!0:c.includes("address")&&c.includes("string")?y(n[r],{strict:!1}):c.includes("address")&&c.includes("bytes")?y(n[r],{strict:!1}):!1)return c}}var B="/docs/contract/encodeFunctionData";function bt(t){const{abi:e,args:n,functionName:r}=t;let o=e[0];if(r){const i=mt({abi:e,args:n,name:r});if(!i)throw new v(r,{docsPath:B});o=i}if(o.type!=="function")throw new v(void 0,{docsPath:B});return{abi:[o],functionName:j(g(o))}}function kt(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var s;return t.abi.length===1&&((s=t.functionName)!=null&&s.startsWith("0x"))?t:bt(t)})(),o=n[0],i=r,c="inputs"in o&&o.inputs?tt(o.inputs,e!=null?e:[]):void 0;return M([i,c!=null?c:"0x"])}export{v as C,It as D,Ft as E,Z as O,Pt as S,zt as T,$t as _,pt as a,wt as b,tt as c,X as d,f,xt as g,J as h,Tt as i,g as k,at as l,z as m,mt as n,jt as o,M as p,j as r,Nt as s,kt as t,Mt as u,Et as v,St as w,Bt as x,vt as y};
