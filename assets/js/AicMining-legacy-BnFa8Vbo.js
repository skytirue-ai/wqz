!function(){function e(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,r,i,o,s=[],c=!0,l=!1;try{if(i=(a=a.call(e)).next,0===n){if(Object(a)!==a)return;c=!1}else for(;!(c=(t=i.call(a)).done)&&(s.push(t.value),s.length!==n);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}(e,a)||function(e,a){if(e){if("string"==typeof e)return n(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=Array(n);a<n;a++)t[a]=e[a];return t}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function s(a,r,i,o){var s=r&&r.prototype instanceof l?r:l,u=Object.create(s.prototype);return t(u,"_invoke",function(a,t,r){var i,o,s,l=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,a){return i=n,o=0,s=e,f.n=a,c}};function p(a,t){for(o=a,s=t,n=0;!d&&l&&!r&&n<u.length;n++){var r,i=u[n],p=f.p,v=i[2];a>3?(r=v===t)&&(s=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=e):i[0]<=p&&((r=a<2&&p<i[1])?(o=0,f.v=t,f.n=i[1]):p<v&&(r=a<3||i[0]>t||t>v)&&(i[4]=a,i[5]=t,f.n=v,o=0))}if(r||a>1)return c;throw d=!0,t}return function(r,u,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,v),o=u,s=v;(n=o<2?e:s)||!d;){i||(o?o<3?(o>1&&(f.n=-1),p(o,s)):f.n=s:f.v=s);try{if(l=2,i){if(o||(r="next"),n=i[r]){if(!(n=n.call(i,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,o<2&&(o=0)}else 1===o&&(n=i.return)&&n.call(i),o<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),o=1);i=e}else if((n=(d=f.n<0)?s:a.call(t,f))!==c)break}catch(n){i=e,o=1,s=n}finally{l=1}}return{value:n,done:d}}}(a,i,o),!0),u}var c={};function l(){}function u(){}function d(){}n=Object.getPrototypeOf;var f=[][i]?n(n([][i]())):(t(n={},i,function(){return this}),n),p=d.prototype=l.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,t(p,"constructor",d),t(d,"constructor",u),u.displayName="GeneratorFunction",t(d,o,"GeneratorFunction"),t(p),t(p,o,"Generator"),t(p,i,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:s,m:v}})()}function t(e,n,a,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}t=function(e,n,a,r){function o(n,a){t(e,n,function(e){return this._invoke(n,a,e)})}n?i?i(e,n,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[n]=a:(o("next",0),o("throw",1),o("return",2))},t(e,n,a,r)}function r(e,n,a,t,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void a(e)}s.done?n(c):Promise.resolve(c).then(t,r)}function i(e){return function(){var n=this,a=arguments;return new Promise(function(t,i){var o=e.apply(n,a);function s(e){r(o,t,i,s,c,"next",e)}function c(e){r(o,t,i,s,c,"throw",e)}s(void 0)})}}System.register(["./vue-vendor-legacy-Bv_HnxI9.js","./AICStakeTH-legacy-Bg6rwJS8.js","./useChainId-legacy-D2nzign4.js","./call-legacy-6JPKw80G.js","./encodeFunctionData-legacy-tVF29xRZ.js","./utils-legacy-QV70pBc9.js","./sha2-legacy-DdKY9g1A.js","./index-legacy-C6lOp1rw.js","./Spin-legacy-C5kM_KNr.js"],function(n,t){var r,o,s,c,l,u,d,f,p,v,g,m,b,h,y,x,w,k,S,j,C,_,A,$,I,F,T,E,O,z,P,R,G,N,M,D,H,U,B,L,Y,q,W,Q,V,J,K,X,Z,ee,ne,ae,te,re,ie,oe,se,ce,le,ue,de,fe,pe,ve,ge,me,be,he,ye,xe,we,ke;return{setters:[function(e){r=e.A,o=e.B,s=e.F,c=e.N,l=e.P,u=e.W,d=e.b,f=e.f,p=e.g,v=e.h,g=e.k,m=e.m,b=e.q,h=e.s,y=e.u,x=e.v,w=e.w,k=e.x,S=e.y},function(e){j=e.a,C=e.i,_=e.l,A=e.o,$=e.r,I=e.s,F=e.t},function(e){T=e.n,E=e.t},function(e){O=e.E},function(e){},function(e){},function(e){},function(e){z=e.Gt,P=e.t},function(e){R=e.t}],execute:function(){(G=document.createElement("style")).textContent=".container[data-v-cee3837b]{color:#fff;width:100%;margin:0 auto;padding:62px 15px 31px}.ba_container[data-v-cee3837b]{background-color:#000;height:100vh}.title[data-v-cee3837b]{margin-bottom:20px;font-size:24px;font-weight:700}.info-card[data-v-cee3837b]{background:#111827;border-radius:12px;padding:14px}.divider[data-v-cee3837b]{background:#374151;height:1px;margin:16px 0}.info-item[data-v-cee3837b]{justify-content:space-between;padding:12px 0;display:flex}.label[data-v-cee3837b]{color:#9ca3af;font-size:14px}.value[data-v-cee3837b]{color:#fff;font-size:14px}.value.highlight[data-v-cee3837b]{color:#10b981;font-weight:600}.action-item[data-v-cee3837b]{gap:10px;margin-top:20px;display:flex}.primary-button[data-v-cee3837b],.secondary-button[data-v-cee3837b],.confirm-btn[data-v-cee3837b]{cursor:pointer;border:none;border-radius:12px;padding:10px 20px;font-weight:600}.primary-button[data-v-cee3837b]{color:#fff;background:linear-gradient(93deg,#b621fe 6.66%,#3f77f9 96.39%);border-radius:5px}.secondary-button[data-v-cee3837b]{color:#fff;background:#111827;border:1px solid #424b59;border-radius:5px}.mining-menu-overlay[data-v-cee3837b]{background:rgba(0,0,0,.55);justify-content:center;align-items:flex-end;display:flex;position:fixed;top:0;bottom:0;left:0;right:0}.menu-header[data-v-cee3837b]{justify-content:space-between;align-items:center;margin-bottom:16px;font-size:18px;font-weight:600;display:flex}.close-btn[data-v-cee3837b]{color:#9ca3af;cursor:pointer;background:0 0;border:none;font-size:20px}.input-section[data-v-cee3837b]{flex-direction:column;margin-bottom:20px;display:flex}.input-section label[data-v-cee3837b]{color:#9ca3af;margin-bottom:8px;font-size:14px}.stake-input[data-v-cee3837b]{color:#fff;background:#111827;border:1px solid #374151;border-radius:12px;outline:none;padding:10px;font-size:16px}.stake-input[data-v-cee3837b]:focus{border-color:#4a21ef}.error-text[data-v-cee3837b]{color:#f87171;margin-top:6px;font-size:12px}.action-section[data-v-cee3837b]{justify-content:center;gap:10px;display:flex}.confirm-btn[data-v-cee3837b]{color:#fff;cursor:pointer;background:linear-gradient(93deg,#b621fe 6.66%,#3f77f9 96.39%);border:none;border-radius:12px;flex:1;padding:12px;font-size:16px;font-weight:600;transition:all .2s}.confirm-btn[data-v-cee3837b]:disabled{opacity:.6;cursor:not-allowed}.confirm-btn[data-v-cee3837b]:hover:not(:disabled){transform:scale(1.02)}@keyframes slideUp-cee3837b{0%{transform:translateY(100%)}to{transform:translateY(0)}}.slide-up-enter-active[data-v-cee3837b],.slide-up-leave-active[data-v-cee3837b]{transition:all .3s}.slide-up-enter-from[data-v-cee3837b],.slide-up-leave-to[data-v-cee3837b]{opacity:0;transform:translateY(100%)}@media (min-width:780px){.container[data-v-cee3837b]{margin:0 auto;padding-top:115px;padding-left:15px;padding-right:15px}.mining-menu[data-v-cee3837b]{margin-bottom:100px}}.mining-menu-overlay[data-v-cee3837b]{z-index:999;background:rgba(0,0,0,.55);justify-content:center;align-items:flex-end;padding:10px;display:flex;position:fixed;top:0;bottom:0;left:0;right:0}.mining-menu[data-v-cee3837b]{background:#1c2534;border:1px solid rgba(255,255,255,.05);border-radius:20px 20px 0 0;width:100%;max-width:480px;margin-bottom:53px;padding:20px;animation:.25s ease-out slideUp-cee3837b;box-shadow:0 -4px 20px rgba(0,0,0,.3)}@media (min-width:780px){.mining-menu-overlay[data-v-cee3837b]{align-items:center}.mining-menu[data-v-cee3837b]{border-radius:12px;max-height:80vh;margin-bottom:0}}\n/*$vite$:1*/",document.head.appendChild(G),N={class:"container ba_container"},M={class:"title"},D={class:"info-card"},H={class:"info-item"},U={class:"label"},B={class:"info-item"},L={class:"label"},Y={class:"info-item"},q={class:"label"},W={class:"info-item"},Q={class:"label"},V={class:"info-item"},J={class:"label"},K={class:"info-item"},X={class:"label"},Z={class:"value highlight"},ee={class:"info-item"},ne={class:"label"},ae={class:"value"},te={class:"info-item"},re={class:"label"},ie={class:"value"},oe={class:"action-item"},se=["disabled"],ce={key:0},le={key:1,class:"spinner"},ue=["disabled"],de={key:0},fe={key:1,class:"spinner"},pe={class:"input-section"},ve={key:0,class:"error-text"},ge={class:"action-section"},me=["disabled"],be={key:0},he={key:1,class:"spinner"},ye=["disabled"],xe={key:0},we={key:1,class:"spinner"},ke={__name:"index",setup(n){var t=h().t,z=y(),G=T(),ke=G.address,Se=G.isConnected,je=E(),Ce=x(()=>e=>{switch(e){case"a":return t("mining.aic.FirepowerEngine");case"b":return t("mining.aic.QuantStorm");case"c":return t("mining.aic.BlueWhaleBarrage");default:return"Engine"}}),_e=C(je.value,"USDT"),Ae=C(je.value,"AICStakeTH");console.log("AIC_StakeTH_ADDRESS",Ae),console.log("chainId",je.value);var $e=o(!1),Ie=o(""),Fe=o(!1),Te=e=>new $(e).div(Math.pow(10,18)).toFixed(4),Ee=e=>new $(e).times(Math.pow(10,18)).toFixed(0),Oe=x(()=>new $(Ie.value||0).gt(0)),ze=I({address:_e,abi:O,functionName:"allowance",args:[ke,Ae],chainId:je,enabled:!!ke&&Se}),Pe=ze.data,Re=ze.refetch,Ge=x(()=>{return e=Pe.value,new $(e||0).div(Math.pow(10,18));var e}),Ne=x(()=>Ge.value.gte(new $(Ie.value||0))),Me=x(()=>{var e=new $(Ie.value||0),n=Ge.value;return e.gt(n)?Ee(e):Ee(n)}),De=I({address:Ae,abi:F,functionName:"getStakeInfo",args:[ke],chainId:je,enabled:!!ke&&Se,onSuccess(){console.debug("getStakeInfo Success...")}}),He=De.data,Ue=De.refetch,Be=I({address:Ae,abi:F,functionName:"getRewardAmount",args:[ke],chainId:je,enabled:!!ke&&Se}),Le=Be.data,Ye=Be.refetch,qe=j(),We=qe.writeContractAsync,Qe=qe.data,Ve=function(){var e=i(a().m(function e(){var n,r;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Se){e.n=1;break}return e.a(2,z.warning(t("message.notConnected")));case 1:return e.p=1,Fe.value=!0,e.n=2,We({address:_e,abi:O,functionName:"approve",args:[Ae,Me.value],chainId:je.value,enabled:!!ke&&Se});case 2:n=e.v,Re(),z.info("Approveing ...",n),e.n=4;break;case 3:e.p=3,r=e.v,z.error("Approve Failed : "+(r.shortMessage||r.message));case 4:return e.p=4,Fe.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),Je=A({hash:Qe,onSuccess(){Re()}}),Ke=Je.isSuccess,Xe=Je.isError,Ze=Je.error,en=Je.isLoading;c([Ke,Xe],n=>{var a=e(n,2),t=a[0],r=a[1];t?(console.log("Approve  Success"),Re()):r&&(Cn(),console.error("Approve Failed ...",Ze),z.error("Approve Failed:"+Ze))});var nn=j(),an=nn.writeContractAsync,tn=nn.data,rn=nn.isPending,on=function(){var e=i(a().m(function e(){var n,r,i;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Se){e.n=1;break}return e.a(2,z.warning(t("message.notConnected")));case 1:if(Oe.value){e.n=2;break}return e.a(2,z.warning(t("message.invalidStakeAmount")));case 2:if(n=new $(Ie.value||0),!Ge.value.lt(n)){e.n=3;break}return z.warning(t("message.insufficientAllowance")),e.a(2);case 3:return e.p=3,Fe.value=!0,e.n=4,an({address:Ae,abi:F,functionName:"stakeTH",args:[[ke.value],[Ee(Ie.value)]],chainId:je.value});case 4:r=e.v,console.log("result",r),z.info(t("message.stakingInProgress")),e.n=6;break;case 5:e.p=5,i=e.v,z.error(`${t("message.stakeFailed")}`+(i.shortMessage||i.message));case 6:return e.p=6,Fe.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),sn=A({hash:tn,onSuccess(){$e.value=!1,Re()}}),cn=sn.data,ln=sn.isSuccess,un=sn.isError,dn=sn.error,fn=sn.isLoading;c([ln,un],n=>{var a=e(n,2),r=a[0],i=a[1];if(r)Ue(),console.log("✅ Receipt:",cn);else if(i){var o;console.error("❌ Claim 失败, 回执:",cn),z.error(`${t("message.claimFailed")}`+((null==dn?void 0:dn.message)||(null==dn||null===(o=dn.data)||void 0===o?void 0:o.error)||"Claim failed..."))}});var pn=j(),vn=pn.writeContractAsync,gn=pn.data,mn=pn.isPending,bn=function(){var e=i(a().m(function e(){var n,r,i,o;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Se){e.n=1;break}return z.warning(t("message.notConnected")),e.a(2);case 1:if(He&&0!=He.value[0]){e.n=2;break}return z.warning(t("message.noReward")),e.a(2);case 2:return e.p=2,Fe.value=!0,z.info(t("message.transactionSending")),e.n=3,vn({address:Ae,abi:F,functionName:"withdrawReward",args:[],chainId:je.value});case 3:return n=e.v,console.log("Transaction Hash:",n),z.info(t("message.waitingConfirmation")),e.n=4,_(P,{hash:n,timeout:3e4});case 4:r=e.v,console.log("等待结果的响应这里Transaction Receipt:",r),e.n=6;break;case 5:e.p=5,o=e.v,console.error("Claiming Error:",o),i=hn(o,t),z.error(i);case 6:return e.p=6,Fe.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),hn=(e,n)=>{var a=e.shortMessage||e.message||"";return a.includes("user rejected")?n("message.userRejected"):a.includes("insufficient funds")?n("message.insufficientGas"):a.includes("execution reverted")?n("message.contractReverted"):`${n("message.claimFailed")}: ${a}`},yn=A({hash:gn,timeout:3e4,query:{retry:3,retryDelay:2e3}}),xn=yn.data,wn=yn.isLoading,kn=yn.isSuccess,Sn=yn.isError;c([kn,Sn],n=>{var a=e(n,2),r=a[0],i=a[1];if(r)z.success(t("message.claimSuccess")),console.log("✅ Receipt:",xn),console.log("refetchStakeAll"),Promise.all([Ue(),Ye()]);else if(i){var o;console.error("❌ Claim 失败, 回执:",xn),z.error(`${t("message.claimFailed")}`+((null==i?void 0:i.message)||(null==i||null===(o=i.data)||void 0===o?void 0:o.error)||"Claim failed..."))}});var jn=function(){var e=i(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return $e.value=!0,Ie.value="",e.n=1,Re();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Cn=()=>{$e.value=!1};return g(()=>{Ue(),Ye(),Re()}),(e,n)=>{var a=R;return r(),k("div",N,[S("h2",M,b(e.$t("mining.aic.title")),1),S("div",D,[S("div",H,[S("span",U,b(Ce.value(e.a)),1),n[2]||(n[2]=S("span",{class:"value highlight"},"-",-1))]),S("div",B,[S("span",L,b(e.$t("mining.aic.pool_balance")),1),n[3]||(n[3]=S("span",{class:"value"},"-",-1))]),S("div",Y,[S("span",q,b(e.$t("mining.aic.total_staked")),1),n[4]||(n[4]=S("span",{class:"value"},"-",-1))]),S("div",W,[S("span",Q,b(e.$t("mining.aic.start_time")),1),n[5]||(n[5]=S("span",{class:"value"},"-",-1))]),S("div",V,[S("span",J,b(e.$t("mining.aic.end_time")),1),n[6]||(n[6]=S("span",{class:"value"},"-",-1))]),n[7]||(n[7]=S("div",{class:"divider"},null,-1)),S("div",K,[S("span",X,b(e.$t("mining.aic.my_stake")),1),S("span",Z,b(u(He)?Te(u(He)[0]):"-")+" AIC",1)]),S("div",ee,[S("span",ne,b(e.$t("mining.aic.pending_rewards")),1),S("span",ae,b(u(Le)?Te(u(Le)):0)+" AIC",1)]),S("div",te,[S("span",re,b(e.$t("mining.aic.claimed_rewards")),1),S("span",ie,b(u(He)?Te(u(He)[2]):"-")+" AIC",1)]),S("div",oe,[S("button",{class:"gradient-padding gradient-button primary-button",disabled:u(rn),onClick:jn},[u(rn)||u(fn)?(r(),k("div",le,[w(a)])):(r(),k("span",ce,b(e.$t("common.stake")),1))],8,se),S("button",{class:"gradient-padding gradient-button secondary-button",disabled:u(mn),onClick:bn},[u(mn)||u(wn)?(r(),k("div",fe,[w(a)])):(r(),k("span",de,b(e.$t("common.claim")),1))],8,ue)])]),w(f,{name:"slide-up"},{default:l(()=>[s(S("div",{class:"mining-menu-overlay",onClick:Cn},[S("div",{class:"mining-menu",onClick:n[1]||(n[1]=p(()=>{},["stop"]))},[S("div",pe,[S("label",null,b(e.$t("mining.aic.input_stake_amount")),1),s(S("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>Ie.value=e),type:"number",min:"0",placeholder:"0.00",class:"stake-input"},null,512),[[m,Ie.value]]),Oe.value?d("",!0):(r(),k("div",ve,b(e.$t("mining.aic.enter_valid_amount")),1))]),S("div",ge,[Ne.value?(r(),k("button",{key:1,class:"confirm-btn",disabled:Fe.value,onClick:on},[Fe.value?(r(),k("div",we,[w(a)])):(r(),k("span",xe,b(e.$t("mining.aic.confirm_stake")),1))],8,ye)):(r(),k("button",{key:0,class:"confirm-btn",disabled:u(en),onClick:Ve},[u(en)?(r(),k("div",he,[w(a)])):(r(),k("span",be,b(e.$t("mining.aic.authorize")),1))],8,me))])])],512),[[v,$e.value]])]),_:1})])}}},n("default",z(ke,[["__scopeId","data-v-cee3837b"]]))}}})}();