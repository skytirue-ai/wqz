!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,o,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function l(e,r,a,i){var l=r&&r.prototype instanceof s?r:s,u=Object.create(l.prototype);return t(u,"_invoke",function(e,t,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:g,f:g.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function g(e,t){for(i=e,l=t,o=0;!d&&s&&!r&&o<u.length;o++){var r,a=u[o],g=f.p,m=a[2];e>3?(r=m===t)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=g&&((r=e<2&&g<a[1])?(i=0,f.v=t,f.n=a[1]):g<m&&(r=e<3||a[0]>t||t>m)&&(a[4]=e,a[5]=t,f.n=m,i=0))}if(r||e>1)return c;throw d=!0,t}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&g(u,m),i=u,l=m;(o=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),g(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),o=a[r]){if(!(o=o.call(a,l)))throw TypeError("iterator result is not an object");if(!o.done)return o;l=o.value,i<2&&(i=0)}else 1===i&&(o=a.return)&&o.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((o=(d=f.n<0)?l:e.call(t,f))!==c)break}catch(o){a=n,i=1,l=o}finally{s=1}}return{value:o,done:d}}}(e,a,i),!0),u}var c={};function s(){}function u(){}function d(){}o=Object.getPrototypeOf;var f=[][a]?o(o([][a]())):(t(o={},a,function(){return this}),o),g=d.prototype=s.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e}return u.prototype=d,t(g,"constructor",d),t(d,"constructor",u),u.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(g),t(g,i,"Generator"),t(g,a,function(){return this}),t(g,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m:m}})()}function t(e,n,o,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}t=function(e,n,o,r){function i(n,o){t(e,n,function(e){return this._invoke(n,o,e)})}n?a?a(e,n,{value:o,enumerable:!r,configurable:!r,writable:!r}):e[n]=o:(i("next",0),i("throw",1),i("return",2))},t(e,n,o,r)}function n(e,t,n,o,r,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,r)}function o(e){return function(){var t=this,o=arguments;return new Promise(function(r,a){var i=e.apply(t,o);function l(e){n(i,r,a,l,c,"next",e)}function c(e){n(i,r,a,l,c,"throw",e)}l(void 0)})}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}System.register(["./vue-vendor-legacy-Bv_HnxI9.js","./AICStakeTH-legacy-Qgy2_XgT.js","./useChainId-legacy-Dk_JD-ZT.js","./call-legacy-CVsJv_z5.js","./encodeFunctionData-legacy-Ds00Rg86.js","./utils-legacy-QV70pBc9.js","./sha2-legacy-5m8McmTv.js","./index-legacy-ns903S3Q.js","./Spin-legacy-CjZR1O1C.js"],function(t,n){var a,i,l,c,s,u,d,f,g,m,p,h,v,y,b,S,w,A,x,E,_,T,k,C,R,I,N,O,j,F,L,B,D,$,G,M,P,U,H;return{setters:[function(e){a=e.A,i=e.B,l=e.N,c=e.W,s=e.k,u=e.q,d=e.s,f=e.u,g=e.v,m=e.w,p=e.x,h=e.y},function(e){v=e.a,y=e.c,b=e.i,S=e.n,w=e.o,A=e.r,x=e.s,E=e.t},function(e){_=e.n,T=e.t},function(e){},function(e){},function(e){},function(e){},function(e){k=e.F,C=e.Gt,R=e.t},function(e){I=e.t}],execute:function(){var n;(N=document.createElement("style")).textContent=".container[data-v-4cd57694]{flex-direction:column;align-items:center;width:100%;margin:0 auto;padding-top:31px;padding-left:15px;padding-right:15px;display:flex}.container h2[data-v-4cd57694]{padding-left:15px}.dividend-container[data-v-4cd57694]{flex-direction:column;width:100%;margin:0 auto;display:flex}.dividend-container h2[data-v-4cd57694]{color:#fff;font-family:Noto Sans SC;font-size:24px;font-weight:700;line-height:normal}.ba_conter[data-v-4cd57694]{background:#111827;border-radius:12px;flex-shrink:0;width:100%;min-width:345px;min-height:297px;margin-top:20px}.ba_title_conts span[data-v-4cd57694]{flex-direction:row;justify-content:space-between;width:100%;padding:19px 15px;display:flex}.ba_title_conts span em[data-v-4cd57694]{color:#fff;font-family:Noto Sans SC;font-size:14px;font-style:normal;font-weight:700;line-height:normal}.ba_title_conts span i[data-v-4cd57694]{color:#fff;font-family:SF Pro;font-size:14px;font-style:normal;font-weight:700;line-height:normal}.ba_conts[data-v-4cd57694]{flex-direction:column;gap:10px;padding:0 12px;display:flex}.ba_conts span[data-v-4cd57694]{background:#1c2534;border:1px solid #424b59;border-radius:8px;flex-direction:row;justify-content:space-between;padding:17px 17px 15px 13px;display:flex}.ba_conts span em[data-v-4cd57694]{color:#c9c9d6;font-family:Noto Sans SC;font-size:14px;font-style:normal;font-weight:400;line-height:normal}.ba_conts span i[data-v-4cd57694]{color:#c9c9d6;font-family:SF Pro;font-size:14px;font-style:normal;font-weight:400;line-height:normal}@media (min-width:780px){.container[data-v-4cd57694]{margin:0 auto;padding-top:115px;padding-left:15px;padding-right:15px}}\n/*$vite$:1*/",document.head.appendChild(N),O=class{static toBigNumber(e){return e instanceof A?e:new A("bigint"==typeof e?e.toString():e)}static fromWei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n="bigint"==typeof e?e.toString():e,o=k(BigInt(n),t);return new A(o)}static formatCompactNumber(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.toBigNumber(e);if(n.isNaN()||!n.isFinite()||n.isZero())return"0";var o,r=n.abs(),a=n.isNegative();return o=r.isLessThan(1e3)?n.toFixed(t).replace(/\.0+$/,""):r.isLessThan(1e4)?n.dividedBy(1e3).toFixed(t).replace(/\.0+$/,"")+"k":r.isLessThan(1e6)?n.dividedBy(1e4).toFixed(t).replace(/\.0+$/,"")+"w":r.isLessThan(1e9)?n.dividedBy(1e6).toFixed(t).replace(/\.0+$/,"")+"m":r.isLessThan(1e12)?n.dividedBy(1e9).toFixed(t).replace(/\.0+$/,"")+"b":n.dividedBy(1e12).toFixed(t).replace(/\.0+$/,"")+"t",a?`-${o}`:o}static formatTokenAmount(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=this.fromWei(e,t);return this.formatCompactNumber(o,n)}},n=class{static calculateTotalRelease(e,t){try{if(!e||!t||new S(e).lte(0)||new S(t).lte(0))return new S(0);var n=new S(e),o=new S(t);if(n.gt(o))return console.warn("个人质押数量不能大于总质押数量"),new S(0);console.log("personalStakeAmount (18位):",n.toString()),console.log("totalStakeAmount (18位):",o.toString());var r=n.dividedBy(o).multipliedBy(this.RELEASE_CONFIG.TOTAL_RELEASE_AMOUNT);return console.log("个人总释放量 (18位):",r.toString()),r}catch(a){return console.error("计算个人总释放量时出错:",a),new S(0)}}static calculateTotalReleaseRaw(e,t){try{var n=this.calculateTotalRelease(e,t);return this.from18Decimals(n).toNumber()}catch(o){return console.error("计算个人总释放量时出错:",o),0}}static calculateUnlockedAmount(e,t,n){try{console.log("personalStakeAmount (18位):",e),console.log("totalStakeAmount (18位):",t);var o=this.calculateTotalRelease(e,t),a=r(n,3),i=a[0],l=a[2],c=new S(i||0),s=new S(l||0);console.log("总释放量 (18位):",o.toString()),console.log("已解锁金额 (18位):",c.toString()),console.log("已提取金额 (18位):",s.toString());var u=o.minus(c).minus(s),d=u.gte(0)?u:new S(0);return console.log("剩余待解锁金额 (18位):",d.toString()),d}catch(f){return console.error("计算未解锁金额时出错:",f),new S(0)}}static calculateUnlockedAmountRaw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var o=this.calculateUnlockedAmount(e,t,n);return this.from18Decimals(o).toNumber()}catch(r){return console.error("计算未解锁金额时出错:",r),0}}static calculateUnlockedAmountFormatted(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var o=this.calculateUnlockedAmountRaw(e,t,n);return new S(o).toFixed(2)}catch(r){return console.error("计算未解锁金额时出错:",r),"0.00"}}static from18Decimals(e){try{return new S(e).dividedBy(Math.pow(10,this.RELEASE_CONFIG.DECIMALS))}catch(t){return console.error("从18位小数转换时出错:",t),new S(0)}}static to18Decimals(e){try{return new S(e).multipliedBy(Math.pow(10,this.RELEASE_CONFIG.DECIMALS))}catch(t){return console.error("转换18位小数时出错:",t),new S(0)}}static getTotalReleaseAmountRaw(){return this.from18Decimals(this.RELEASE_CONFIG.TOTAL_RELEASE_AMOUNT).toNumber()}static debugValues(e,t){console.log("=== 调试信息 ==="),console.log("总释放量配置 (18位):",this.RELEASE_CONFIG.TOTAL_RELEASE_AMOUNT.toString()),console.log("总释放量配置 (原始):",this.getTotalReleaseAmountRaw()),console.log("personalStakeAmount (18位):",e),console.log("totalStakeAmount (18位):",t);var n=this.calculateTotalRelease(e,t);console.log("个人总释放量 (18位):",n.toString()),console.log("个人总释放量 (原始):",this.calculateTotalReleaseRaw(e,t))}},n.RELEASE_CONFIG={TOTAL_RELEASE_AMOUNT:new S(1e6).multipliedBy(Math.pow(10,18)),RELEASE_PERIOD_DAYS:720,DECIMALS:18},j=n,F={class:"container ba_container"},L={class:"dividend-container"},B={class:"ba_conter"},D={class:"ba_title_conts"},$={class:"ba_conts"},G={class:"gradient-padding gradient-button"},M=["disabled"],P={key:0},U={key:1,class:"spinner"},H={__name:"index",setup(t){var n=d().t,A=f(),C=_(),N=C.address,H=C.isConnected,z=T(),W=b(z.value,"AICStakeTH");console.log("AIC_StakeTH_ADDRESS",W),console.log("chainId",z.value);var q=i(!1),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=k(BigInt(e),18);return new S(n).toFixed(t)}(e);return O.formatCompactNumber(n,t)},Y=x({address:W,abi:E,functionName:"getStakeInfo",args:[N],chainId:z,enabled:!!N&&H,onSuccess(){console.log("Stake Successful...")}}),Z=Y.data,J=Y.refetch,K=x({address:W,abi:E,functionName:"AICTotalSupply",args:[],chainId:z,enabled:!!N&&H,onSuccess(){console.log("Stake Successful...")}}),Q=K.data,X=K.refetch,ee=x({address:W,abi:E,functionName:"getTotalTHAmount",args:[],chainId:z,enabled:!!N&&H,onSuccess(){console.log("Stake Successful...")}}),te=ee.data,ne=ee.refetch,oe=x({address:W,abi:E,functionName:"getRewardAmount",args:[N],chainId:z,enabled:!!N&&H,onSuccess(){console.log("Get RewardAmountData Successful...")}}),re=oe.data,ae=oe.refetch,ie=()=>(console.log("refetchStakeAll"),Promise.all([ne(),X(),J(),ae()])),le=g(()=>{try{console.log("TotalTHAmount",te.value);var e=j.calculateUnlockedAmountFormatted(Q.value,te.value,Z.value);return console.log("totalRelease",e),e}catch(t){return console.error("计算未解锁金额时出错:",t),0}}),ce=v(),se=ce.writeContractAsync,ue=ce.data,de=ce.isPending,fe=function(){var t=o(e().m(function t(){var o,r,a,i,l;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(H){e.n=1;break}return e.a(2,A.warning(n("message.notConnected")));case 1:if(console.log("StakeData",Z),!Z||0!=Z.value[0]){e.n=2;break}return e.a(2,A.warning(n("message.noReward")));case 2:return e.p=2,q.value=!0,e.n=3,se({address:W,abi:E,functionName:"withdrawReward",args:[],chainId:z.value},{onSuccess:e=>{console.log("Claiming Success ",e)},onError:e=>{console.error("Claiming Error ",e)}});case 3:return a=e.v,console.log("result",a),e.n=4,y(R,{confirmations:5,hash:a});case 4:if(i=e.v,console.log("✅ Receipt:",i),"success"!==i.status){e.n=6;break}return e.n=5,ie();case 5:e.n=7;break;case 6:A.error((null===(o=i.error)||void 0===o?void 0:o.shortMessage)||(null===(r=i.error)||void 0===r?void 0:r.message)||"Claim failed...");case 7:e.n=9;break;case 8:e.p=8,l=e.v,A.error(l.shortMessage||l.message);case 9:return e.p=9,q.value=!1,e.f(9);case 10:return e.a(2)}},t,null,[[2,8,9,10]])}));return function(){return t.apply(this,arguments)}}(),ge=w({hash:ue,timeout:3e4,query:{retry:3,retryDelay:2e3}}),me=ge.data,pe=ge.isLoading,he=ge.isSuccess,ve=ge.isError;return l([he,ve],function(){var t=o(e().m(function t(n){var o,a,i,l,c,s;return e().w(function(e){for(;;)switch(e.n){case 0:if(o=r(n,2),a=o[0],i=o[1],!a){e.n=2;break}return e.n=1,ie();case 1:console.log("✅ Receipt:",me),e.n=3;break;case 2:i&&(console.error("❌ Claim 失败, 回执:",me),A.error((null==me||null===(l=me.error)||void 0===l?void 0:l.shortMessage)||(null===(c=me.error)||void 0===c?void 0:c.message)||(null==me||null===(s=me.data)||void 0===s?void 0:s.error)||"Claim failed..."));case 3:return e.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),s(o(e().m(function t(){return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ie();case 1:return e.a(2)}},t)}))),(e,t)=>{var n=I;return a(),p("div",F,[h("div",L,[h("h2",null,u(e.$t("mining.th.title")),1),h("div",B,[h("div",D,[h("span",null,[h("em",null,u(e.$t("mining.th.points")),1),h("i",null,u(c(Q)?V(c(Q)):"0")+" TH",1)])]),h("div",$,[h("span",null,[h("em",null,u(e.$t("mining.th.pending")),1),h("i",null,u(c(re)?V(c(re)):"0")+" AIC",1)]),h("span",null,[h("em",null,u(e.$t("mining.th.locked")),1),h("i",null,u(le.value?le.value:"0")+" AIC",1)]),h("span",null,[h("em",null,u(e.$t("mining.th.claimed")),1),h("i",null,u(c(Z)?V(c(Z)[2]):"0")+" AIC",1)])]),h("div",G,[h("button",{class:"primary-button",disabled:c(de),onClick:fe},[c(de)||c(pe)?(a(),p("div",U,[m(n)])):(a(),p("span",P,u(e.$t("mining.th.claim")),1))],8,M)])])])])}}},t("default",C(H,[["__scopeId","data-v-4cd57694"]]))}}})}();