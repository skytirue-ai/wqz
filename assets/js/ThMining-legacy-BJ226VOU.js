!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,a,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function s(e,o,r,i){var s=o&&o.prototype instanceof u?o:u,c=Object.create(s.prototype);return t(c,"_invoke",function(e,t,o){var r,i,s,u=0,c=o||[],d=!1,p={p:0,n:0,v:n,a:y,f:y.bind(n,4),d:function(e,t){return r=e,i=0,s=n,p.n=t,l}};function y(e,t){for(i=e,s=t,a=0;!d&&u&&!o&&a<c.length;a++){var o,r=c[a],y=p.p,m=r[2];e>3?(o=m===t)&&(s=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=n):r[0]<=y&&((o=e<2&&y<r[1])?(i=0,p.v=t,p.n=r[1]):y<m&&(o=e<3||r[0]>t||t>m)&&(r[4]=e,r[5]=t,p.n=m,i=0))}if(o||e>1)return l;throw d=!0,t}return function(o,c,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&y(c,m),i=c,s=m;(a=i<2?n:s)||!d;){r||(i?i<3?(i>1&&(p.n=-1),y(i,s)):p.n=s:p.v=s);try{if(u=2,r){if(i||(o="next"),a=r[o]){if(!(a=a.call(r,s)))throw TypeError("iterator result is not an object");if(!a.done)return a;s=a.value,i<2&&(i=0)}else 1===i&&(a=r.return)&&a.call(r),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);r=n}else if((a=(d=p.n<0)?s:e.call(t,p))!==l)break}catch(a){r=n,i=1,s=a}finally{u=1}}return{value:a,done:d}}}(e,r,i),!0),c}var l={};function u(){}function c(){}function d(){}a=Object.getPrototypeOf;var p=[][r]?a(a([][r]())):(t(a={},r,function(){return this}),a),y=d.prototype=u.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e}return c.prototype=d,t(y,"constructor",d),t(d,"constructor",c),c.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(y),t(y,i,"Generator"),t(y,r,function(){return this}),t(y,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:m}})()}function t(e,n,a,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}t=function(e,n,a,o){function i(n,a){t(e,n,function(e){return this._invoke(n,a,e)})}n?r?r(e,n,{value:a,enumerable:!o,configurable:!o,writable:!o}):e[n]=a:(i("next",0),i("throw",1),i("return",2))},t(e,n,a,o)}function n(e,t,n,a,o,r,i){try{var s=e[r](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,o)}function a(e){return function(){var t=this,a=arguments;return new Promise(function(o,r){var i=e.apply(t,a);function s(e){n(i,o,r,s,l,"next",e)}function l(e){n(i,o,r,s,l,"throw",e)}s(void 0)})}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,r,i,s=[],l=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}System.register(["./vue-vendor-legacy-Bv_HnxI9.js","./AICStakeTH-legacy-Dh3ANqss.js","./useChainId-legacy-TWx71_yE.js","./call-legacy-2X2ycIzW.js","./encodeFunctionData-legacy-BCiFqbpz.js","./utils-legacy-QV70pBc9.js","./sha2-legacy-CDAus0F2.js","./index-legacy-B_lb2WHY.js","./Spin-legacy-OO7-sLSn.js"],function(t,n){var r,i,s,l,u,c,d,p,y,m,f,b,g,v,h,T,w,S,A,x,k,_,E,R,C,I,N,M,O,D,L,j,F,B,G,$,H,P,U;return{setters:[function(e){r=e.A,i=e.B,s=e.N,l=e.W,u=e.k,c=e.q,d=e.s,p=e.u,y=e.v,m=e.w,f=e.x,b=e.y},function(e){g=e.a,v=e.c,h=e.i,T=e.n,w=e.o,S=e.r,A=e.s,x=e.t},function(e){k=e.n,_=e.t},function(e){},function(e){},function(e){},function(e){},function(e){E=e.F,R=e.Gt,C=e.t},function(e){I=e.t}],execute:function(){var n;(N=document.createElement("style")).textContent=".ba_container[data-v-74e9d9bb]{background-color:#000;height:100vh}.container[data-v-74e9d9bb]{flex-direction:column;align-items:center;width:100%;margin:0 auto;padding-top:31px;padding-left:15px;padding-right:15px;display:flex}.container h2[data-v-74e9d9bb]{padding-left:15px}.dividend-container[data-v-74e9d9bb]{flex-direction:column;width:100%;margin:0 auto;display:flex}.dividend-container h2[data-v-74e9d9bb]{color:#fff;font-family:Noto Sans SC;font-size:24px;font-weight:700;line-height:normal}.ba_conter[data-v-74e9d9bb]{background:#111827;border-radius:12px;flex-shrink:0;width:100%;min-width:345px;min-height:297px;margin-top:20px}.ba_title_conts span[data-v-74e9d9bb]{flex-direction:row;justify-content:space-between;width:100%;padding:19px 15px;display:flex}.ba_title_conts span em[data-v-74e9d9bb]{color:#fff;font-family:Noto Sans SC;font-size:14px;font-style:normal;font-weight:700;line-height:normal}.ba_title_conts span i[data-v-74e9d9bb]{color:#fff;font-family:SF Pro;font-size:14px;font-style:normal;font-weight:700;line-height:normal}.ba_conts[data-v-74e9d9bb]{flex-direction:column;gap:10px;padding:0 12px;display:flex}.ba_conts span[data-v-74e9d9bb]{background:#1c2534;border:1px solid #424b59;border-radius:8px;flex-direction:row;justify-content:space-between;padding:17px 17px 15px 13px;display:flex}.ba_conts span em[data-v-74e9d9bb]{color:#c9c9d6;font-family:Noto Sans SC;font-size:14px;font-style:normal;font-weight:400;line-height:normal}.ba_conts span i[data-v-74e9d9bb]{color:#c9c9d6;font-family:SF Pro;font-size:14px;font-style:normal;font-weight:400;line-height:normal}@media (min-width:780px){.container[data-v-74e9d9bb]{margin:0 auto;padding-top:115px;padding-left:15px;padding-right:15px}}\n/*$vite$:1*/",document.head.appendChild(N),M=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"addStakeDatas",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getStakeData",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"stakeTime",type:"uint256"},{internalType:"uint256",name:"claimedAmount",type:"uint256"}],internalType:"struct AIC_StakeTH_Data.StakeData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"stakeTime",type:"uint256"},{internalType:"uint256",name:"claimedAmount",type:"uint256"}],name:"setStakeData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_totalTHAmount",type:"uint256"}],name:"setTotalTHAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"stakeDatas",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"stakeTime",type:"uint256"},{internalType:"uint256",name:"claimedAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTHAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],O=class{static toBigNumber(e){return e instanceof S?e:new S("bigint"==typeof e?e.toString():e)}static fromWei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n="bigint"==typeof e?e.toString():e,a=E(BigInt(n),t);return new S(a)}static formatCompactNumber(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.toBigNumber(e);if(n.isNaN()||!n.isFinite()||n.isZero())return"0";var a,o=n.abs(),r=n.isNegative();return a=o.isLessThan(1e3)?n.toFixed(t).replace(/\.0+$/,""):o.isLessThan(1e4)?n.dividedBy(1e3).toFixed(t).replace(/\.0+$/,"")+"k":o.isLessThan(1e6)?n.dividedBy(1e4).toFixed(t).replace(/\.0+$/,"")+"w":o.isLessThan(1e9)?n.dividedBy(1e6).toFixed(t).replace(/\.0+$/,"")+"m":o.isLessThan(1e12)?n.dividedBy(1e9).toFixed(t).replace(/\.0+$/,"")+"b":n.dividedBy(1e12).toFixed(t).replace(/\.0+$/,"")+"t",r?`-${a}`:a}static formatTokenAmount(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=this.fromWei(e,t);return this.formatCompactNumber(a,n)}},n=class{static calculateTotalRelease(e,t){try{if(!e||!t||new T(e).lte(0)||new T(t).lte(0))return new T(0);var n=new T(e),a=new T(t);if(n.gt(a))return console.warn("个人质押数量不能大于总质押数量"),new T(0);console.log("personalStakeAmount (18位):",n.toString()),console.log("totalStakeAmount (18位):",a.toString());var o=n.dividedBy(a).multipliedBy(this.RELEASE_CONFIG.TOTAL_RELEASE_AMOUNT);return console.log("个人总释放量 (18位):",o.toString()),o}catch(r){return console.error("计算个人总释放量时出错:",r),new T(0)}}static calculateTotalReleaseRaw(e,t){try{var n=this.calculateTotalRelease(e,t);return this.from18Decimals(n).toNumber()}catch(a){return console.error("计算个人总释放量时出错:",a),0}}static calculateUnlockedAmount(e,t,n){try{console.log("personalStakeAmount (18位):",e),console.log("totalStakeAmount (18位):",t);var a=this.calculateTotalRelease(e,t),r=o(n,3),i=r[0],s=r[2],l=new T(i||0),u=new T(s||0);console.log("总释放量 (18位):",a.toString()),console.log("已解锁金额 (18位):",l.toString()),console.log("已提取金额 (18位):",u.toString());var c=a.minus(l).minus(u),d=c.gte(0)?c:new T(0);return console.log("剩余待解锁金额 (18位):",d.toString()),d}catch(p){return console.error("计算未解锁金额时出错:",p),new T(0)}}static calculateUnlockedAmountRaw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var a=this.calculateUnlockedAmount(e,t,n);return this.from18Decimals(a).toNumber()}catch(o){return console.error("计算未解锁金额时出错:",o),0}}static calculateUnlockedAmountFormatted(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var a=this.calculateUnlockedAmountRaw(e,t,n);return new T(a).toFixed(2)}catch(o){return console.error("计算未解锁金额时出错:",o),"0.00"}}static from18Decimals(e){try{return new T(e).dividedBy(Math.pow(10,this.RELEASE_CONFIG.DECIMALS))}catch(t){return console.error("从18位小数转换时出错:",t),new T(0)}}static to18Decimals(e){try{return new T(e).multipliedBy(Math.pow(10,this.RELEASE_CONFIG.DECIMALS))}catch(t){return console.error("转换18位小数时出错:",t),new T(0)}}static getTotalReleaseAmountRaw(){return this.from18Decimals(this.RELEASE_CONFIG.TOTAL_RELEASE_AMOUNT).toNumber()}static debugValues(e,t){console.log("=== 调试信息 ==="),console.log("总释放量配置 (18位):",this.RELEASE_CONFIG.TOTAL_RELEASE_AMOUNT.toString()),console.log("总释放量配置 (原始):",this.getTotalReleaseAmountRaw()),console.log("personalStakeAmount (18位):",e),console.log("totalStakeAmount (18位):",t);var n=this.calculateTotalRelease(e,t);console.log("个人总释放量 (18位):",n.toString()),console.log("个人总释放量 (原始):",this.calculateTotalReleaseRaw(e,t))}},n.RELEASE_CONFIG={TOTAL_RELEASE_AMOUNT:new T(1e6).multipliedBy(Math.pow(10,18)),RELEASE_PERIOD_DAYS:720,DECIMALS:18},D={class:"container ba_container"},L={class:"dividend-container"},j={class:"ba_conter"},F={class:"ba_title_conts"},B={class:"ba_conts"},G={class:"gradient-padding gradient-button"},$=["disabled"],H={key:0},P={key:1,class:"spinner"},U={__name:"index",setup(t){var n=d().t,S=p(),R=k(),N=R.address,U=R.isConnected,z=_(),W=h(z.value,"AICStakeTH"),q=h(z.value,"StakeTHData");console.log("AIC_StakeTH_ADDRESS",W),console.log("chainId",z.value);var Z=i(!1),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=E(BigInt(e),18);return new T(n).toFixed(t)}(e);return O.formatCompactNumber(n,t)},Y=A({address:W,abi:x,functionName:"getStakeInfo",args:[N],chainId:z,enabled:!!N&&U,onSuccess(){console.log("Stake Successful...")}}),J=Y.data,K=Y.refetch,Q=A({address:q,abi:M,functionName:"getStakeData",args:[N],chainId:z,enabled:!!N&&U,onSuccess(e){console.log("Stake Successful...",e)}}),X=Q.data,ee=Q.refetch,te=A({address:W,abi:x,functionName:"AICTotalSupply",args:[],chainId:z,enabled:!!N&&U,onSuccess(){console.log("Stake Successful...")}}),ne=te.data,ae=te.refetch,oe=A({address:W,abi:x,functionName:"getTotalTHAmount",args:[],chainId:z,enabled:!!N&&U,onSuccess(){console.log("Stake Successful...")}}),re=oe.data,ie=oe.refetch,se=A({address:W,abi:x,functionName:"getRewardAmount",args:[N],chainId:z,enabled:!!N&&U,onSuccess(){console.log("Get RewardAmountData Successful...")}}),le=se.data,ue=se.refetch,ce=()=>(console.log("refetchStakeAll"),Promise.all([ee(),ie(),ae(),K(),ue()])),de=y(()=>{try{if(!X.value)return console.log("StakeTHData",X),0;var e=X.value,t=e.amount,n=e.claimedAmount,a=new T(t||0),o=new T(re.value||0),r=new T(ne.value||0),i=new T(n||0),s=new T(le.value||0);if(r.isZero())return 0;var l=r.dividedBy(o).multipliedBy(a).minus(i).minus(s);return console.log("个人质押总释放:",l.toString()),l.isGreaterThan(0)?l.toNumber():0}catch(u){return console.error("计算未解锁金额时出错:",u),0}}),pe=g(),ye=pe.writeContractAsync,me=pe.data,fe=pe.isPending,be=function(){var t=a(e().m(function t(){var a,o,r,i,s;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(U){e.n=1;break}return e.a(2,S.warning(n("message.notConnected")));case 1:if(console.log("StakeData",J),!J||0!=J.value[0]){e.n=2;break}return e.a(2,S.warning(n("message.noReward")));case 2:return e.p=2,Z.value=!0,e.n=3,ye({address:W,abi:x,functionName:"withdrawReward",args:[],chainId:z.value},{onSuccess:e=>{console.log("Claiming Success ",e)},onError:e=>{console.error("Claiming Error ",e)}});case 3:return r=e.v,console.log("result",r),e.n=4,v(C,{confirmations:5,hash:r});case 4:if(i=e.v,console.log("✅ Receipt:",i),"success"!==i.status){e.n=6;break}return e.n=5,ce();case 5:e.n=7;break;case 6:S.error((null===(a=i.error)||void 0===a?void 0:a.shortMessage)||(null===(o=i.error)||void 0===o?void 0:o.message)||"Claim failed...");case 7:e.n=9;break;case 8:e.p=8,s=e.v,S.error(s.shortMessage||s.message);case 9:return e.p=9,Z.value=!1,e.f(9);case 10:return e.a(2)}},t,null,[[2,8,9,10]])}));return function(){return t.apply(this,arguments)}}(),ge=w({hash:me,timeout:3e4,query:{retry:3,retryDelay:2e3}}),ve=ge.data,he=ge.isLoading,Te=ge.isSuccess,we=ge.isError;return s([Te,we],function(){var t=a(e().m(function t(n){var a,r,i,s,l,u;return e().w(function(e){for(;;)switch(e.n){case 0:if(a=o(n,2),r=a[0],i=a[1],!r){e.n=2;break}return e.n=1,ce();case 1:console.log("✅ Receipt:",ve),e.n=3;break;case 2:i&&(console.error("❌ Claim 失败, 回执:",ve),S.error((null==ve||null===(s=ve.error)||void 0===s?void 0:s.shortMessage)||(null===(l=ve.error)||void 0===l?void 0:l.message)||(null==ve||null===(u=ve.data)||void 0===u?void 0:u.error)||"Claim failed..."));case 3:return e.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),u(a(e().m(function t(){return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ce();case 1:return e.a(2)}},t)}))),(e,t)=>{var n=I;return r(),f("div",D,[b("div",L,[b("h2",null,c(e.$t("mining.th.title")),1),b("div",j,[b("div",F,[b("span",null,[b("em",null,c(e.$t("mining.th.points")),1),b("i",null,c(l(J)?V(l(J)[0]):"0")+" TH",1)])]),b("div",B,[b("span",null,[b("em",null,c(e.$t("mining.th.pending")),1),b("i",null,c(l(le)?V(l(le)):"0")+" AIC",1)]),b("span",null,[b("em",null,c(e.$t("mining.th.locked")),1),b("i",null,c(de.value?V(de.value):"0")+" AIC",1)]),b("span",null,[b("em",null,c(e.$t("mining.th.claimed")),1),b("i",null,c(l(J)?V(l(J)[2]):"0")+" AIC",1)])]),b("div",G,[b("button",{class:"primary-button",disabled:l(fe),onClick:be},[l(fe)||l(he)?(r(),f("div",P,[m(n)])):(r(),f("span",H,c(e.$t("mining.th.claim")),1))],8,$)])])])])}}},t("default",R(U,[["__scopeId","data-v-74e9d9bb"]]))}}})}();