var S=s=>{throw TypeError(s)};var j=(s,e,t)=>e.has(s)||S("Cannot "+t);var i=(s,e,t)=>(j(s,e,"read from private field"),t?t.call(s):e.get(s)),v=(s,e,t)=>e.has(s)?S("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),m=(s,e,t,n)=>(j(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),b=(s,e,t)=>(j(s,e,"access private method"),t);import{B,D as k,E as K,H as N,L as R,N as M,R as W,U as A,V as T,W as z,v as F,z as x}from"./vue-vendor-CWx2MFcM.js";import{Bt as L,Dt as $,Et as Q,Mt as D,Tt as H,Vt as G,Wt as J,d as X,kt as Y,r as Z,wt as _}from"./index-G6kTHV4L.js";var l,p,a,f,d,C,E,P,tt=(P=class extends J{constructor(e,t){super();v(this,d);v(this,l);v(this,p);v(this,a);v(this,f);m(this,l,e),this.setOptions(t),this.bindMethods(),b(this,d,C).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const t=this.options;this.options=i(this,l).defaultMutationOptions(e),L(this.options,t)||i(this,l).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,a),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&D(t.mutationKey)!==D(this.options.mutationKey)?this.reset():((n=i(this,a))==null?void 0:n.state.status)==="pending"&&i(this,a).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=i(this,a))==null||e.removeObserver(this)}onMutationUpdate(e){b(this,d,C).call(this),b(this,d,E).call(this,e)}getCurrentResult(){return i(this,p)}reset(){var e;(e=i(this,a))==null||e.removeObserver(this),m(this,a,void 0),b(this,d,C).call(this),b(this,d,E).call(this)}mutate(e,t){var n;return m(this,f,t),(n=i(this,a))==null||n.removeObserver(this),m(this,a,i(this,l).getMutationCache().build(i(this,l),this.options)),i(this,a).addObserver(this),i(this,a).execute(e)}},l=new WeakMap,p=new WeakMap,a=new WeakMap,f=new WeakMap,d=new WeakSet,C=function(){var t,n;const e=(n=(t=i(this,a))==null?void 0:t.state)!=null?n:$();m(this,p,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},E=function(e){Y.batch(()=>{var t,n,o,r,h,c,g,O;if(i(this,f)&&this.hasListeners()){const u=i(this,p).variables,y=i(this,p).context,w={client:i(this,l),meta:this.options.meta,mutationKey:this.options.mutationKey};(e==null?void 0:e.type)==="success"?((n=(t=i(this,f)).onSuccess)==null||n.call(t,e.data,u,y,w),(r=(o=i(this,f)).onSettled)==null||r.call(o,e.data,null,u,y,w)):(e==null?void 0:e.type)==="error"&&((c=(h=i(this,f)).onError)==null||c.call(h,e.error,u,y,w),(O=(g=i(this,f)).onSettled)==null||O.call(g,void 0,e.error,u,y,w))}this.listeners.forEach(u=>{u(i(this,p))})})},P);function et(s=""){if(!K())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=H(s),t=k(e);if(!t)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return t}function dt(s,e){const t=e||et(),n=F(()=>t.defaultMutationOptions(_(s))),o=new tt(t,n.value),r=n.value.shallow?T(o.getCurrentResult()):W(o.getCurrentResult()),h=o.subscribe(u=>{Q(r,u)}),c=(u,y)=>{o.mutate(u,y).catch(()=>{})};M(n,()=>{o.setOptions(n.value)}),R(()=>{h()});const g=n.value.shallow?N(r):x(r),O=A(g);return M(()=>r.error,u=>{if(u&&G(n.value.throwOnError,[u]))throw u}),{...O,mutate:c,mutateAsync:r.mutate,reset:r.reset}}function q(s){const e=s.state.current,t=s.state.connections.get(e),n=t==null?void 0:t.accounts,o=n==null?void 0:n[0],r=s.chains.find(c=>c.id===(t==null?void 0:t.chainId)),h=s.state.status;switch(h){case"connected":return{address:o,addresses:n,chain:r,chainId:t==null?void 0:t.chainId,connector:t==null?void 0:t.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:h};case"reconnecting":return{address:o,addresses:n,chain:r,chainId:t==null?void 0:t.chainId,connector:t==null?void 0:t.connector,isConnected:!!o,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:h};case"connecting":return{address:o,addresses:n,chain:r,chainId:t==null?void 0:t.chainId,connector:t==null?void 0:t.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:h};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:h}}}function st(s){return s.state.chainId}function I(s,e){if(s===e)return!0;if(s&&e&&typeof s=="object"&&typeof e=="object"){if(s.constructor!==e.constructor)return!1;let t,n;if(Array.isArray(s)&&Array.isArray(e)){if(t=s.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!I(s[n],e[n]))return!1;return!0}if(typeof s.valueOf=="function"&&s.valueOf!==Object.prototype.valueOf)return s.valueOf()===e.valueOf();if(typeof s.toString=="function"&&s.toString!==Object.prototype.toString)return s.toString()===e.toString();const o=Object.keys(s);if(t=o.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.hasOwn(e,o[n]))return!1;for(n=t;n--!==0;){const r=o[n];if(r&&!I(s[r],e[r]))return!1}return!0}return s!==s&&e!==e}function nt(s,e){const{onChange:t}=e;return s.subscribe(()=>q(s),t,{equalityFn(n,o){const{connector:r,...h}=n,{connector:c,...g}=o;return I(h,g)&&(r==null?void 0:r.id)===(c==null?void 0:c.id)&&(r==null?void 0:r.uid)===(c==null?void 0:c.uid)}})}function rt(s,e){const{onChange:t}=e;return s.subscribe(n=>n.chainId,t)}const it="0.2.12",ot=()=>"@wagmi/vue@".concat(it);var U=class extends X{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/vue"}get version(){return ot()}},ut=class extends U{constructor(){super("No `config` found in Vue context, use `WagmiPlugin` to properly initialize the library.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiPluginNotFoundError"})}},at=class extends U{constructor(){super("Wagmi composables can only be used inside `setup()` function or functions that support injection context.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiInjectionContextError"})}};function ct(s,e){for(const t of Object.keys(s))s[t]=e[t]}function V(s={}){const e=z(s);if(e.config)return e.config;if(!K())throw new at;const t=k(Z);if(!t)throw new ut;return t}function pt(s={}){const e=V(s),t=W(q(e)),n=nt(e,{onChange(o){ct(t,o)}});return R(()=>n()),A(x(t))}function gt(s={}){const e=V(s),t=B(st(e)),n=rt(e,{onChange(o){t.value=o}});return R(()=>n()),x(t)}export{et as a,dt as i,pt as n,V as r,gt as t};
